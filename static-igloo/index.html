<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Igloo - Frostr keyset manager and remote signer</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div class="page-layout">
        <div class="container">
            <!-- App Header -->
            <div class="app-header">
                <div class="header-logo">
                    <img src="./assets/frostr-logo-transparent.png" alt="Frostr Logo" class="logo-image" />
                    <h1 class="app-title">Igloo</h1>
                </div>
                <p class="app-subtitle" id="app-subtitle">Frostr keyset manager and remote signer.</p>
            </div>

            <!-- Main Content Card -->
            <div class="content-card" id="main-content">
                <!-- Create New Keyset View -->
                <div class="view" id="create-view" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Create New Keyset</h2>
                        <button class="icon-button back-button" onclick="showMainView()">
                            <i data-lucide="arrow-left"></i>
                        </button>
                    </div>
                    <div class="create-form">
                        <p class="text-gray-400 mb-6">Create a new threshold signature keyset.</p>
                        <!-- Create form content would go here -->
                        <div class="form-placeholder">
                            <p class="text-center text-gray-500">Create keyset form would be implemented here</p>
                        </div>
                    </div>
                </div>

                <!-- New Keyset Created View -->
                <div class="view" id="keyset-view" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">New Keyset Created</h2>
                        <div class="tooltip-container">
                            <i data-lucide="help-circle" class="help-icon"></i>
                            <div class="tooltip">
                                <p class="tooltip-title">Important!</p>
                                <p class="mb-2">This is the only screen where your complete keyset is shown. You must save each share you want to keep on this device (each with its own password) and/or copy and move individual shares to other devices, like our browser extension signer <a href="https://github.com/FROSTR-ORG/frost2x" target="_blank" rel="noopener noreferrer" class="link">Frost2x</a>.</p>
                                <p>Once you click "Finish", the keyset will be removed from memory and remain distributed where you manually saved them.</p>
                            </div>
                        </div>
                    </div>
                    <div class="keyset-content">
                        <p class="text-center text-gray-500">Keyset display would be implemented here</p>
                        <div class="mt-6 text-center">
                            <button class="btn btn-primary" onclick="finishKeyset()">Finish</button>
                        </div>
                    </div>
                </div>

                <!-- Signer View -->
                <div class="view" id="signer-view" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Signer</h2>
                        <button class="btn btn-ghost" onclick="backToShares()">Back to Shares</button>
                    </div>
                    
                    <!-- Tabs -->
                    <div class="tabs">
                        <div class="tabs-list">
                            <button class="tab-trigger active" data-tab="signer-tab" onclick="switchTab('signer-tab')">
                                Signer
                            </button>
                            <button class="tab-trigger" data-tab="recover-tab" onclick="switchTab('recover-tab')">
                                Recover
                            </button>
                        </div>
                        
                        <div class="tab-content active" id="signer-tab">
                            <div class="signer-content">
                                <p class="text-center text-gray-500">Signer interface would be implemented here</p>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="recover-tab">
                            <div class="recover-content">
                                <p class="text-center text-gray-500">Recover interface would be implemented here</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Share List View -->
                <div class="view" id="main-view">
                    <div class="shares-header">
                        <h2 class="shares-title">Available Shares</h2>
                        <div class="shares-actions">
                            <div class="tooltip-container help-tooltip">
                                <i data-lucide="help-circle" class="help-icon"></i>
                                <div class="tooltip">
                                    <p class="tooltip-title">How to use Igloo:</p>
                                    <p class="mb-2">To start signing Nostr notes, you need to load one of your saved shares by clicking the "Load" button.</p>
                                    <p class="mb-2">Once loaded, you'll be taken to the Signer interface where you can configure relays and start the signer to handle requests.</p>
                                    <p class="mb-2">Igloo does not allow you to publish notes at this time only participate in signing.</p>
                                    <p class="mb-2">Checkout <a href="https://frostr.org/apps" target="_blank" rel="noopener noreferrer" class="link">frostr.org/apps</a> for our other frostr clients including Frost2x which allows you to publish notes through the browser.</p>
                                </div>
                            </div>
                            <button class="btn btn-primary" onclick="showCreateView()">
                                <i data-lucide="plus" class="btn-icon"></i>
                                Create New
                            </button>
                        </div>
                    </div>

                    <!-- Share List -->
                    <div class="share-list" id="share-list">
                        <!-- Sample shares - would be populated dynamically -->
                        <div class="share-item">
                            <div class="share-info">
                                <h3 class="share-name">Sample Share 1</h3>
                                <p class="share-id">ID: <span class="id-text">abc123def456</span></p>
                                <p class="share-date">Saved: 12/15/2023</p>
                            </div>
                            <div class="share-actions">
                                <div class="tooltip-container">
                                    <button class="icon-button" onclick="openLocation('abc123')">
                                        <i data-lucide="folder-open"></i>
                                    </button>
                                    <div class="tooltip tooltip-small">Open</div>
                                </div>
                                <div class="tooltip-container">
                                    <button class="icon-button icon-button-destructive" onclick="deleteShare('abc123')">
                                        <i data-lucide="trash-2"></i>
                                    </button>
                                    <div class="tooltip tooltip-small">Delete</div>
                                </div>
                                <button class="btn btn-primary btn-sm" onclick="loadShare('abc123')">Load</button>
                            </div>
                        </div>

                        <div class="share-item">
                            <div class="share-info">
                                <h3 class="share-name">Sample Share 2</h3>
                                <p class="share-id">ID: <span class="id-text">def456ghi789</span></p>
                                <p class="share-date">Saved: 12/10/2023</p>
                            </div>
                            <div class="share-actions">
                                <div class="tooltip-container">
                                    <button class="icon-button" onclick="openLocation('def456')">
                                        <i data-lucide="folder-open"></i>
                                    </button>
                                    <div class="tooltip tooltip-small">Open</div>
                                </div>
                                <div class="tooltip-container">
                                    <button class="icon-button icon-button-destructive" onclick="deleteShare('def456')">
                                        <i data-lucide="trash-2"></i>
                                    </button>
                                    <div class="tooltip tooltip-small">Delete</div>
                                </div>
                                <button class="btn btn-primary btn-sm" onclick="loadShare('def456')">Load</button>
                            </div>
                        </div>

                        <!-- Empty state (hidden when shares exist) -->
                        <div class="empty-state" style="display: none;">
                            <p class="empty-message">No shares available</p>
                            <p class="empty-submessage">Get started by creating your first keyset</p>
                            <button class="btn btn-primary" onclick="showCreateView()">
                                <i data-lucide="plus" class="btn-icon"></i>
                                Create New Keyset
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal-overlay" id="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">Modal Title</h3>
                <button class="modal-close" onclick="closeModal()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body" id="modal-body">
                Modal content goes here
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 